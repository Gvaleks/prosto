Ppered=10; %мощность передатчика также менять при канале вниз
ygol=10; % угол места
shir=68; dolg=37; dolgsp=61; % ширина долгота земной станция долгота точки стояния спутника
%dal=(42250*sqrt(1.023-0.3*cos(shir)*cos(dolg-dolgsp)));%расчет направленной дальности
dal=42529;
diam1=4; % диаметр 1 антенны нужно менять значения диаметров при расчете канала вниз
diam2=0.2; % диаметр 2 антенны
ebntreb=1.6; %требуемое отношение битовой ошибки к спектральной плотности шума
M=2; %порядок модуляции 8 PSK
ber=10^(-6);% Ттребуемый
k=-228.6; % коэффициент Больцмана
Aeff1=0.55*4*pi*diam1; % не обязательно
Aeff2=0.55*4*pi*diam2; % не обязательно
f1=1.2*10^9; % частота вверх
f2=1.65*10^9; % частота вниз
dlinav1=3*10^8/f1; %длина волны вверх
dlinav2=3*10^8/f2; % длина волны вниз
Gpered= 10*log10(0.6*(pi*diam1/dlinav1)^2);% ку антенны нужно менять длину волны при расчете канала вниз на 2
Gpriem=10*log10(0.6*(pi*diam2/dlinav1)^2); %ку антенны нужно менять длину волны при расчете канала вниз на 2
Lpr=20*log10(((4*pi*dal)/dlinav1)); % пространственные потери нужно менять длину волны при расчете канала вниз на 2
R=20;% скорость передачи в дб у меня 32 кбита/с
r=0.75; % скорость кодирования
R1=32768; % не важно
B=R+10*log10(1.2/log2(M*r)); % ширина полосы пропускания
B1=10*log10((1.2*R1)/log2(M*r));% ширина полосы пропускания просто по другому записана
Tant=3100; % температура антенны тоже менять при расчете канала вниз
Tpriem=290; %температура приемника тоже менять при расчете канала вниз
Tpered=290;%температура передатчика тоже менять при расчете канала вниз  особа не важно, не участвет в расчете
Tsys=10*log10((Tant+Tpriem)); % температура системы
Rx=k+Tsys+B+ebntreb; % чувствительность приемника, для сравнения с принятой мощностью и возможность принятия системы сигнала
eeim=Ppered+Gpered -1; % эиим
Ppriem=eeim+Gpriem-Lpr; %принятая мощность
dobro=Gpriem-Tsys; % добротность системы, что-то вроде чувствительности 
No=k+Tsys;% спектральная плотность шума
Sn=Ppriem-No; % отношение сигнал шум
ebnoprin=Sn-B;% принятое отношения битовой ошибки к спектральной плотности шума
REEEE=Ppriem-Rx; % резерв
REEE2= eeim-Lpr+dobro-k-B;%Вика резерв по ее формуле
rezerv=ebnoprin-ebntreb; % еще один резерв для сравнения
%-ebntreb